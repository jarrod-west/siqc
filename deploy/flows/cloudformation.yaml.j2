AWSTemplateFormatVersion: "2010-09-09"
Description: Flows to demonstrate scheduled in-queue callbacks

Parameters:
  ConnectInstanceArn:
    Type: String
    Description: The ARN of the Amazon Connect Instance

Resources:
  CallbackInbound:
    Type: "AWS::Connect::ContactFlow"
    Properties:
      Name: Callback_Inbound
      Description: Target of the outbound call, creates a callback to the customer
      InstanceArn: !Ref ConnectInstanceArn
      Type: CONTACT_FLOW
      State: ACTIVE
      Tags:
        - Key: CreatedBy
          Value: Jarrod West
      Content: |
        {{ content["CallbackInbound"] }}

  CallbackOutbound:
    Type: "AWS::Connect::ContactFlow"
    Properties:
      Name: Callback_Outbound
      Description: Agent side of the outbound call, doesn't do anything
      InstanceArn: !Ref ConnectInstanceArn
      Type: CUSTOMER_QUEUE
      State: ACTIVE
      Tags:
        - Key: CreatedBy
          Value: Jarrod West
      Content: |
        {{ content["CallbackOutbound"] }}
